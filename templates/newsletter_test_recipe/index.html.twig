{% extends 'base.html.twig' %}

{% block body %}

	<div class="container1 row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-4 m-auto list">
		
	</div>

	<div class="container2 h-50 border m-auto">
		<div class="searchBar text-center">
			<input type="search" name="search" id="">
			<button class="btn btn-success" type="submit">Rechercher</button>
		</div>

		<div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-4 m-auto list">
			{% for recipe in recipes %}
				<div class="col">
					<div class="card mb-5 bg-body-tertiary rounded-4 image">
						<img src="{{vich_uploader_asset(recipe, 'imageFile')}}" class="card-img-top" alt="image de la recette">
						<div class="card-body overflow-hidden">
							<h5 class="card-title text-center text-justify fs-5 text-success">{{recipe.name}}</h5>
							<p class="card-text">{{recipe.description}}</p>
						</div>
						<div class="d-flex justify-content-between info">
							{% for season in recipe.seasons %}
								<p class="saison">{{season.name}}</p>
								<i class="fa-solid fa-heart text-success"></i>
							{% endfor %}

						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	</div>

	<script>
		const card = document.querySelectorAll('.card');
const cardToCopy = document.querySelectorAll('.col')
const destination = document.querySelector('.container1')


card.forEach((_, i) => {
card[i].addEventListener('click', cardClick)
card[i].addEventListener('mouseover', cardHover)

function cardHover(event) {
event.currentTarget.classList.add("shadow");

}

function cardClick() {
	console.log("ggreg");
const copyCard = cardToCopy[i].cloneNode(true)
destination.appendChild(copyCard)
}
});
	</script>

{% endblock %}
